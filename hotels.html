<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hotels - GLOSPOT</title>
<link rel="stylesheet" href="style.css">
<style>
.card-container { display:flex; flex-wrap:wrap; justify-content:center; gap:30px; padding:40px 20px; }
.card { background-color:white; border-radius:15px; padding:20px; text-align:center; width:220px; box-shadow:0 5px 15px rgba(0,0,0,0.1); cursor:pointer; transition: transform 0.3s, box-shadow 0.3s; }
.card img { width:100px; height:100px; border-radius:50%; object-fit:cover; margin:0 auto 15px; display:block; }
.card h3 { font-size:1.2rem; color:#004aad; margin-bottom:10px; }
.card p { font-size:1rem; color:#333; }
.card:hover { transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.2); }

.booking-form { max-width:500px; margin:40px auto; padding:30px; background-color:white; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1); }
.booking-form h3 { text-align:center; margin-bottom:20px; color:#004aad; }
.booking-form label { display:block; margin-bottom:5px; font-weight:bold; color:#004aad; }
.booking-form input, .booking-form select { width:100%; padding:8px; margin-bottom:15px; border-radius:5px; border:1px solid #ccc; }
.booking-form button { width:100%; padding:10px; background-color:#ffd700; border:none; border-radius:5px; font-weight:bold; cursor:pointer; transition: transform 0.3s, background-color 0.3s; }
.booking-form button:hover { transform:scale(1.05); background-color:#e6c200; }
#booking-message { text-align:center; font-weight:bold; margin-top:15px; color:green; }

@media(max-width:768px){ .card-container { flex-wrap:wrap; } }
</style>
</head>
<body>

<header>
  <div class="logo-container">
    <img src="images/glospot-logo.png" alt="GLOSPOT Logo" class="logo">
    <h1>GLOSPOT</h1>
  </div>
  <nav id="main-nav">
    <a href="index.html">Home</a>
    <a href="hotels.html" class="active">Hotels</a>
    <a href="guides.html">Guides</a>
    <a href="transportation.html">Transportation</a>
    <a href="signup.html" id="signup-link">Sign Up</a>
    <a href="signin.html" id="signin-link">Sign In</a>
    <button id="logout-btn" style="display:none;">Log Out</button>
  </nav>
</header>

<section id="hotels">
  <h2>Our Recommended Hotels</h2>
  <div class="card-container" id="hotel-cards">
    <div class="card"><img src="images/laidhotel.webp" alt="Laid Hotel"><h3>Laid Hotel</h3><p>Luxury stays near the beach with amazing sea views.</p></div>
    <div class="card"><img src="images/reginacity.jpg" alt="Regina City Hotel"><h3>Regina City Hotel</h3><p>The luxury you are looking to seek with multiple choices.</p></div>
    <div class="card"><img src="images/marinabay.webp" alt="Marina Bay Resort & Casino"><h3>Marina Bay Resort & Casino</h3><p>A Jewel on the Albanian Riviera.</p></div>
    <div class="card"><img src="images/flamingohotel.jpg" alt="Flamingo Hotel"><h3>Flamingo Hotel</h3><p>A modern hotel with exquisite rooms and pool.</p></div>
  </div>
</section>

<section class="booking-form">
<h3>Book Your Stay</h3>
<label for="hotel-select">Select Hotel:</label>
<select id="hotel-select">
<option value="">-- Choose a Hotel --</option>
<option value="Laid Hotel">Laid Hotel</option>
<option value="Regina City Hotel">Regina City Hotel</option>
<option value="Marina Bay Resort & Casino">Marina Bay Resort & Casino</option>
<option value="Flamingo Hotel">Flamingo Hotel</option>
</select>
<label for="name">Full Name:</label><input type="text" id="name" placeholder="Your Name" required>
<label for="email">Email:</label><input type="email" id="email" placeholder="you@example.com" required>
<label for="phone">Phone:</label><input type="text" id="phone" placeholder="Your Phone Number" required>
<label for="adults">Number of Adults:</label><input type="number" id="adults" placeholder="Number of Adults" min="1" required>
<label for="kids">Number of Kids:</label><input type="number" id="kids" placeholder="Number of Kids" min="0" required>
<label for="checkin">Check-In Date:</label><input type="date" id="checkin" required>
<label for="checkout">Check-Out Date:</label><input type="date" id="checkout" required>
<button id="book-btn">Book Now</button>
<div id="booking-message"></div>
</section>

<footer><p>Â© 2025 GLOSPOT</p></footer>

<script type="module" src="firebase-config.js"></script>
<script type="module">
import { db } from './firebase-config.js';
import { collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const bookBtn = document.getElementById("book-btn");
bookBtn.addEventListener("click", async () => {
  const hotel = document.getElementById("hotel-select").value;
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const adults = document.getElementById("adults").value;
  const kids = document.getElementById("kids").value;
  const checkin = document.getElementById("checkin").value;
  const checkout = document.getElementById("checkout").value;
  const msg = document.getElementById("booking-message");

  if (!hotel || !name || !email || !phone || !adults || !kids || !checkin || !checkout) {
    msg.textContent = "Please fill all fields.";
    msg.style.color = "red";
    return;
  }

  try {
    await addDoc(collection(db, "reservations"), { hotel, name, email, phone, adults, kids, checkin, checkout, timestamp: serverTimestamp() });
    msg.textContent = "Reservation successful!";
    msg.style.color = "green";
    document.getElementById("hotel-select").value = "";
    document.getElementById("name").value = "";
    document.getElementById("email").value = "";
    document.getElementById("phone").value = "";
    document.getElementById("adults").value = "";
    document.getElementById("kids").value = "";
    document.getElementById("checkin").value = "";
    document.getElementById("checkout").value = "";
  } catch (e) {
    console.error(e);
    msg.textContent = "Failed to make reservation.";
    msg.style.color = "red";
  }
});

document.querySelectorAll('.card').forEach(card => {
  card.addEventListener('click', () => {
    const name = card.querySelector('h3').textContent;
    document.getElementById('hotel-select').value = name;
    window.scrollTo({ top: document.querySelector('.booking-form').offsetTop - 20, behavior: 'smooth' });
  });
});
</script>
<script type="module" src="auth.js"></script>
</body>
</html>
